  version: "3.9"

  services:
    mariadb:
      image: mariadb:11.3
      container_name: mariadb-local
      restart: unless-stopped
      environment:
        MARIADB_ROOT_PASSWORD: rootpw
        MARIADB_DATABASE: appdb
        MARIADB_USER: appuser
        MARIADB_PASSWORD: apppw
      volumes:
        - ./docker-data/mariadb:/var/lib/mysql
        - ./docker/mariadb/init:/docker-entrypoint-initdb.d
      ports:
        - "3306:3306"
      healthcheck:
        test: ["CMD", "mariadb-admin", "ping", "-h", "localhost"]
        interval: 10s
        timeout: 5s
        retries: 5